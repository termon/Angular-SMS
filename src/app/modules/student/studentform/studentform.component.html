<h3 class="mt-4 mb-4">Student Details</h3>

<form #studentForm="ngForm" (ngSubmit)="onSubmit()" method="post">
   
    <div class="form-group">
        <label for="name" class="control-label">Name</label>
        <input [(ngModel)]="model.name" #name="ngModel" name="name"class="form-control" required/>
        <span class="text-danger" *ngIf="name.touched && name.invalid">Name required</span>
    </div>

    <div class="form-group">
        <label for="email" class="control-label">Email Address</label>
        <input [(ngModel)]="model.email" #email="ngModel" name="email"class="form-control" emailAvailableValidator="{{model.id}}" required/>
        <span class="text-danger" *ngIf="email.touched && email.errors?.required">Email required</span>
        <span class="text-danger" *ngIf="email.touched && email.errors?.emailAvailableValidator">Email already registered</span>
    </div>

    <div class="form-group">
        <label for="age" class="control-label">Age</label>
        <input type="number" [(ngModel)]="model.age" #age="ngModel" name="age" class="form-control" required/>
        <span class="text-danger" *ngIf="age.touched && age.invalid">Age required</span>
    </div>

    <div class="form-group">
        <label for="course" class="control-label">Course</label>
        <input [(ngModel)]="model.course" #course="ngModel" name="course" class="form-control" required/>
        <span class="text-danger" *ngIf="course.touched && course.invalid">Course required</span>
    </div>

    <div class="form-group">
        <label for="photoUrl" class="control-label">Photo Url</label>
        <input [(ngModel)]="model.photoUrl" #photoUrl="ngModel" name="photoUrl" class="form-control" required/>
        <span class="text-danger" *ngIf="photoUrl.touched && photoUrl.invalid">PhotoUrl required</span>
    </div>

    <div class="form-group">
        <input type="submit" value="Save" class="btn btn-primary mr-3" [disabled]="!studentForm.valid"/>
        <a class="btn btn-secondary" (click)="onCancel()">Cancel</a>
    </div>

</form>

{{ email.errors | json }}